<?xml version="1.0" encoding="UTF-8"?>

<!-- $Id$ -->

<sect2 id="jsr109-ejb-endpoint">
  
  <title>JSR-109 EJB Endpoint</title>
  
  <para>This chapter uses the same service endpoint interface (SEI) as in 
    <link linkend="jsr109-pojo-endpoint">JSR-109 POJO Endpoint</link>. 
  </para>
  
  <para>
    <programlisting><![CDATA[
    public interface JaxRpcTestService extends Remote
    {
       String echoString(String str1, String str2) throws RemoteException;
    
       SimpleUserType echoSimpleUserType(String str1, SimpleUserType msg) 
          throws RemoteException;
    }
  ]]></programlisting></para>
  
  <para><command>Generating required deployment artifacts</command></para>
  
  <para>Run wstools with the following configuration</para>
  
  <para>
    <programlisting><![CDATA[
  <configuration ...>
    <java-wsdl>
      <service name="TestService" style="rpc" 
        endpoint="org.jboss.test.ws.samples.jsr109ejb.JaxRpcTestService"/>
    
      <namespaces target-namespace="http://org.jboss.ws/samples/jsr109ejb" 
        type-namespace="http://org.jboss.ws/samples/jsr109ejb/types"/>
    
      <mapping file="jaxrpc-mapping.xml"/>
      <webservices ejb-link="TestService"/>
    </java-wsdl>
  </configuration>
    ]]></programlisting></para>

   <para><command>The EJB deployment descriptor</command></para>
  <para>The attribute value for ejbLink element corresponds to ejb-name given in ejb-jar.xml. 
    In this example, the stateless session bean (SLSB) is only exposed as a service endpoint, 
    it does not have a Home nor Remote interface
    <orderedlist>
      <listitem><para>Exposing an SEI as a webservice endpoint</para></listitem>
      <listitem><para>The SLSB endpoint implementation</para></listitem>
    </orderedlist>
  </para>
    
  <para>
    <programlisting><![CDATA[
    <enterprise-beans>
      <session>
        <ejb-name>TestService</ejb-name>
 (1)    <service-endpoint>
            org.jboss.test.ws.samples.jsr109ejb.JaxRpcTestService
         </service-endpoint>
 (2)     <ejb-class>org.jboss.test.ws.samples.jsr109ejb.JaxRpcEJBEndpoint</ejb-class>
        <session-type>Stateless</session-type>
        <transaction-type>Container</transaction-type>
      </session>
    </enterprise-beans>
    ]]></programlisting></para>

</sect2>